name: Read or bump the version in a Cabal file

inputs:
  mode:
    type: string
    required: true
    description: read | bump
  bump-place:
    type: int
    required: false
    description: If the mode is bump, then the index of the bumped version place
outputs:
  before:
    description: Version before edit
  after:
    description: Version after edit
runs:
  using: docker
  # https://docs.github.com/en/actions/creating-actions/metadata-syntax-for-github-actions#runsimage
  image: docker/Dockerfile
  args:
    - ${{ inputs.mode }}
    - ${{ inputs.bump-place }}
